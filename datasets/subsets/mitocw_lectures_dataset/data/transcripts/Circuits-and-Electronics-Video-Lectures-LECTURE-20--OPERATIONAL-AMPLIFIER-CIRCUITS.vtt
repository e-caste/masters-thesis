WEBVTT

00:00:17.000 --> 00:00:20.000
All right.
Good morning.

00:00:20.000 --> 00:00:26.000
Let's get going.
In today's lecture we continue

00:00:26.000 --> 00:00:34.000
with the operational amplifier,
"op amp" for short.

00:00:34.000 --> 00:00:40.000
And what we are going to do is
just build up a bunch of fun

00:00:40.000 --> 00:00:43.000
building blocks using the op
amp.

00:00:43.000 --> 00:00:46.000
As a quick review --

00:00:57.000 --> 00:01:01.000
To quickly review what we've
seen about the op amp --

00:01:09.000 --> 00:01:16.000
We represented the op amp as a
device that looked like this

00:01:16.000 --> 00:01:23.000
where the amplifier had an
incredibly high gain.

00:01:23.000 --> 00:01:30.000
So, if I had a small voltage
difference here --

00:01:30.000 --> 00:01:34.000
I call this v plus and this v
minus with respect to ground.

00:01:34.000 --> 00:01:39.000
And if I had a small voltage
difference then this gain here

00:01:39.000 --> 00:01:43.000
would multiply the difference by
a large number and thereby

00:01:43.000 --> 00:01:48.000
giving me an output that was on
the order of a million times

00:01:48.000 --> 00:01:53.000
greater than this difference.
And because of that when I use

00:01:53.000 --> 00:01:57.000
the op amp in a mode like this
without any negative feedback

00:01:57.000 --> 00:02:02.000
the output would usually crank
up to the positive rail or the

00:02:02.000 --> 00:02:07.000
negative rail.
We also saw that it had

00:02:07.000 --> 00:02:14.000
infinite input resistance so
that the current flowing in here

00:02:14.000 --> 00:02:20.000
or here was zero and also had
zero output resistance.

00:02:20.000 --> 00:02:27.000
This is my ideal op amp where
irrespective of what load I

00:02:27.000 --> 00:02:35.000
connect here the op amp would
supply pretty much any current.

00:02:35.000 --> 00:02:38.000
Now, in practical op amps
that's not the case.

00:02:38.000 --> 00:02:42.000
But suffice it to say that when
used as an ideal op amp the

00:02:42.000 --> 00:02:46.000
output impedance,
the output resistance is going

00:02:46.000 --> 00:02:49.000
to be zero.
The op amp is a huge workhorse

00:02:49.000 --> 00:02:53.000
of the analog industry.
You will see based both on what

00:02:53.000 --> 00:02:57.000
you've done on Tuesday and
Wednesday but also today that

00:02:57.000 --> 00:03:03.000
it's very, very simple to build
circuits using the op amp.

00:03:03.000 --> 00:03:07.000
When you use the amplifier,
you don't have to worry about

00:03:07.000 --> 00:03:11.000
things like nonlinear analysis.
You don't have to worry about

00:03:11.000 --> 00:03:16.000
am I really meeting the criteria
for saturation limits and so on?

00:03:16.000 --> 00:03:20.000
To some extent you have to
think about that with the op

00:03:20.000 --> 00:03:24.000
amp, too, because if the output
hits the positive rail or

00:03:24.000 --> 00:03:30.000
negative rail it isn't going to
behave like you expect it to.

00:03:30.000 --> 00:03:33.000
But fundamentally with this
primitive model,

00:03:33.000 --> 00:03:37.000
this idea model it becomes
really simple to build circuits

00:03:37.000 --> 00:03:41.000
with the op amp.
Therefore it has become a key

00:03:41.000 --> 00:03:45.000
building block for circuits.
When circuit designers build

00:03:45.000 --> 00:03:50.000
analog circuits very often their
primitive building blocks are

00:03:50.000 --> 00:03:53.000
really an amplifier of this
sort, an op amp,

00:03:53.000 --> 00:03:58.000
resistors, capacitors and some
of our other primitive building

00:03:58.000 --> 00:04:01.000
elements.
If you look at the course notes

00:04:01.000 --> 00:04:05.000
the readings are --
There are a bunch of examples

00:04:05.000 --> 00:04:09.000
solved in Chapter 16.
And you will see that using the

00:04:09.000 --> 00:04:13.000
op amp it is indeed possible to
build current sources that look

00:04:13.000 --> 00:04:15.000
like more or less ideal current
sources.

00:04:15.000 --> 00:04:18.000
It is also possible to build
voltage sources and so on.

00:04:18.000 --> 00:04:22.000
It is an incredibly neat
building block using which you

00:04:22.000 --> 00:04:25.000
can do all kinds of cool stuff.

00:04:33.000 --> 00:04:38.000
In this course you will see a
whole bunch of example circuits

00:04:38.000 --> 00:04:43.000
using the op amp.
In today's lecture you will see

00:04:43.000 --> 00:04:48.000
things like a subtractor.
You will also see integrators

00:04:48.000 --> 00:04:53.000
and a differentiator.
And then in your lab,

00:04:53.000 --> 00:04:58.000
lab four, you will build a
really fun mixed signal circuit

00:04:58.000 --> 00:05:04.000
involving both digital and
analog components.

00:05:04.000 --> 00:05:09.000
And you will build what is
called a digital to an analog

00:05:09.000 --> 00:05:14.000
converter using the op amp.
And of course I can build all

00:05:14.000 --> 00:05:19.000
our good-old amplifiers and
circuits of that sort.

00:05:19.000 --> 00:05:24.000
In a later lecture you will
also see how we can build

00:05:24.000 --> 00:05:30.000
filters using an op amp.
This is going to be using the

00:05:30.000 --> 00:05:33.000
knowledge you learn in terms of
connecting resistors,

00:05:33.000 --> 00:05:37.000
capacitors and inductors
together and doing a frequency

00:05:37.000 --> 00:05:40.000
domain analysis,
well we can throw the op amp in

00:05:40.000 --> 00:05:42.000
there and build filters,
too.

00:05:42.000 --> 00:05:46.000
This is just to give you a
preview of upcoming attractions.

00:05:46.000 --> 00:05:50.000
For today I am going to focus
on these circuits.

00:05:50.000 --> 00:05:53.000
I won't be covering any new
theory or any new set of

00:05:53.000 --> 00:05:58.000
foundations but pretty much take
the simple properties that I

00:05:58.000 --> 00:06:02.000
have explained to you about the
op amp.

00:06:02.000 --> 00:06:07.000
And using those simple
properties very quickly build up

00:06:07.000 --> 00:06:13.000
a bunch of circuits that you can
use to analyze signals in a

00:06:13.000 --> 00:06:17.000
variety of ways.
Let's start with the following

00:06:17.000 --> 00:06:21.000
circuit.
With op amps I start with this

00:06:21.000 --> 00:06:25.000
little guy.
And what I am going to do is

00:06:25.000 --> 00:06:30.000
use two voltage sources,
v1, and this is a resistor,

00:06:30.000 --> 00:06:34.000
not an inductor.
And value R1,

00:06:34.000 --> 00:06:38.000
value R2.
So, I have a voltage connected

00:06:38.000 --> 00:06:42.000
by a divider,
voltage divider to the plus

00:06:42.000 --> 00:06:46.000
input.
And I am going to provide some

00:06:46.000 --> 00:06:50.000
negative feedback in the
following way.

00:06:50.000 --> 00:06:56.000
This is going to be R2,
the same as this one here,

00:06:56.000 --> 00:07:01.000
a resistor R1.
And then a voltage source v2

00:07:01.000 --> 00:07:05.000
that I connect out here.
So notice that- Oh,

00:07:05.000 --> 00:07:09.000
and I take the output vOUT out
here.

00:07:09.000 --> 00:07:13.000
And that vOUT of course is with
respect to ground,

00:07:13.000 --> 00:07:18.000
and R2, v1 and v2 are also
connected to ground.

00:07:18.000 --> 00:07:22.000
What I am going to do is
analyze the circuit it two

00:07:22.000 --> 00:07:26.000
different ways,
and as I analyze it describe

00:07:26.000 --> 00:07:32.000
some other interesting
properties to you.

00:07:32.000 --> 00:07:35.000
In the last lecture the
technique I used to analyze op

00:07:35.000 --> 00:07:39.000
amps was one in which I replaced
the op amp with its ideal model

00:07:39.000 --> 00:07:43.000
involving a dependent source and
so on with a large gain A and

00:07:43.000 --> 00:07:46.000
showed that.
I wrote the expression and then

00:07:46.000 --> 00:07:50.000
I let A increase to infinity to
the limits and got an expression

00:07:50.000 --> 00:07:53.000
that was independent of A.
And then in recitation

00:07:53.000 --> 00:07:57.000
yesterday you would have covered
another technique which makes it

00:07:57.000 --> 00:08:04.000
much simpler to analyze op amps.
Let me very quickly review that

00:08:04.000 --> 00:08:07.000
method.
We fondly call that technique,

00:08:07.000 --> 00:08:13.000
there is no formal name for it,
but we fondly call that v plus

00:08:13.000 --> 00:08:17.000
more or less equal to v minus
method.

00:08:17.000 --> 00:08:23.000
This is also variously called
the virtual ground method and so

00:08:23.000 --> 00:08:29.000
on, but we shall call it the v
plus more or less equal to v

00:08:29.000 --> 00:08:33.000
minus method.
The insight here is that

00:08:33.000 --> 00:08:37.000
whenever I use the op amp in a
way in which I am giving it

00:08:37.000 --> 00:08:41.000
negative feedback,
so I am feeding some portion of

00:08:41.000 --> 00:08:43.000
the output to its negative
input.

00:08:43.000 --> 00:08:45.000
I am giving it negative
feedback.

00:08:45.000 --> 00:08:49.000
That's one property.
Second property is that my

00:08:49.000 --> 00:08:52.000
inputs, v1 and v2,
and my resistance values are

00:08:52.000 --> 00:08:55.000
chosen such that the output is
not in saturation.

00:08:55.000 --> 00:09:01.000
So, the op amp is not at the
plus VS rail or minus VS rail.

00:09:01.000 --> 00:09:05.000
Rather it's somewhere in the
middle in its active region.

00:09:05.000 --> 00:09:10.000
When that happens we claim that
the v minus and v plus for the

00:09:10.000 --> 00:09:16.000
op amp are more or less equal.
And to give you some intuition

00:09:16.000 --> 00:09:20.000
as to why that is so,
let's say the output is 6 volts

00:09:20.000 --> 00:09:24.000
and my supply is plus/minus 12.
This is 6 volts and the

00:09:24.000 --> 00:09:30.000
amplifier is a gain of a
million, ten to the six.

00:09:30.000 --> 00:09:33.000
To sustain 6 volts at the
output all I need is a

00:09:33.000 --> 00:09:38.000
difference of 6 microvolts here.
Six divided by ten to the six

00:09:38.000 --> 00:09:42.000
is the difference between v plus
and v minus.

00:09:42.000 --> 00:09:44.000
It's very, very,
very small.

00:09:44.000 --> 00:09:49.000
It's so small as to make v plus
more or less equal to v minus.

00:09:49.000 --> 00:09:54.000
All it takes is a very small
differential voltage here to

00:09:54.000 --> 00:09:59.000
give you 6 volts at the output.
The key thing to observe is

00:09:59.000 --> 00:10:03.000
under negative feedback,
when the op amp is not in

00:10:03.000 --> 00:10:07.000
saturation the property that v
plus equals v minus holds.

00:10:07.000 --> 00:10:11.000
And the way it works is that
it's not that it's a magical

00:10:11.000 --> 00:10:14.000
property.
It is simply that when I apply

00:10:14.000 --> 00:10:18.000
negative feedback the negative
feedback is such that it will

00:10:18.000 --> 00:10:23.000
force this v minus node here to
be at more or less the same

00:10:23.000 --> 00:10:26.000
voltage as v plus.
Remember the when in doubt

00:10:26.000 --> 00:10:30.000
simply go back and think about
the anti lock brakes example we

00:10:30.000 --> 00:10:35.000
did last time.
For example if v plus increases

00:10:35.000 --> 00:10:39.000
the output will increase and so
will the voltage here and tend

00:10:39.000 --> 00:10:42.000
to make these two equal.
What we can do,

00:10:42.000 --> 00:10:46.000
being rather tricky here,
what we'll do is say look,

00:10:46.000 --> 00:10:50.000
if we know for a fact that
under negative feedback the op

00:10:50.000 --> 00:10:54.000
amp is going to engineer these
two node voltages to be more or

00:10:54.000 --> 00:10:58.000
less equal then why don't I just
use that fact to begin with and

00:10:58.000 --> 00:11:03.000
analyze my circuit assuming that
it's true.

00:11:03.000 --> 00:11:06.000
This is just a bit of inverted
logic here that says look,

00:11:06.000 --> 00:11:08.000
the circuit is going to make
that happen.

00:11:08.000 --> 00:11:11.000
If the circuit is going to make
that happen to analyze the

00:11:11.000 --> 00:11:14.000
circuit in its steady state,
why don't I just go ahead and

00:11:14.000 --> 00:11:17.000
assume that to begin with?
This again goes back to us

00:11:17.000 --> 00:11:21.000
wanting to be engineers here and
do whatever is simply and find

00:11:21.000 --> 00:11:23.000
the simplest possible way of
getting some place.

00:11:23.000 --> 00:11:26.000
I want to use that method,
the v plus equals v minus

00:11:26.000 --> 00:11:30.000
method.
Let me just first write down

00:11:30.000 --> 00:11:36.000
some values that I know about.
I know that v plus is simply a

00:11:36.000 --> 00:11:42.000
voltage divider relation here.
That's v1 times R2 divided by

00:11:42.000 --> 00:11:45.000
R1 plus R2.
And by the v plus equals v

00:11:45.000 --> 00:11:51.000
minus method I know that this is
going to be equal to v minus.

00:11:51.000 --> 00:11:57.000
And this is going to be true
because I am giving you negative

00:11:57.000 --> 00:12:02.000
feedback here.
And we are going to engineer

00:12:02.000 --> 00:12:06.000
the values of R1,
R2, v1 and v2 such that the op

00:12:06.000 --> 00:12:09.000
amp is not in saturation.
So, we know that.

00:12:09.000 --> 00:12:14.000
The next thing that we know,
let's say this is a current i.

00:12:14.000 --> 00:12:19.000
This current i flows here.
Know that there is no current

00:12:19.000 --> 00:12:23.000
going in here.
Op amp has an infinite input

00:12:23.000 --> 00:12:26.000
resistance so there is nothing
going in there.

00:12:26.000 --> 00:12:31.000
There is no current going in
there.

00:12:31.000 --> 00:12:35.000
If there is no current going in
here, what must happen to i?

00:12:35.000 --> 00:12:39.000
Remember, from the foundations
of the universe Maxwell's

00:12:39.000 --> 00:12:42.000
equations and therefore KVL and
KCL hold.

00:12:42.000 --> 00:12:45.000
KVL and KCL simply come
straight from nature.

00:12:45.000 --> 00:12:47.000
You and I cannot mess with
that.

00:12:47.000 --> 00:12:50.000
Bad things happen to you if you
do.

00:12:50.000 --> 00:12:52.000
So, nature, Maxwell's
equations, KVL,

00:12:52.000 --> 00:12:54.000
KCL.
It's simply nature.

00:12:54.000 --> 00:12:59.000
So, KCL applies here.
Current comes in here.

00:12:59.000 --> 00:13:01.000
Nothing goes there.
Don't argue.

00:13:01.000 --> 00:13:04.000
The current has to go here,
period.

00:13:04.000 --> 00:13:08.000
No if, ands or buts.
There is i coming in here,

00:13:08.000 --> 00:13:12.000
nothing goes there,
so that current must flow here.

00:13:12.000 --> 00:13:16.000
It has no choice.
It's from basic nature.

00:13:16.000 --> 00:13:21.000
I can write down what my
current i is going to look like.

00:13:21.000 --> 00:13:24.000
What is i going to look like?
Well, I know v2,

00:13:24.000 --> 00:13:30.000
I know v minus.
v minus is the same as v plus.

00:13:30.000 --> 00:13:33.000
And v plus is the i expression
given here.

00:13:33.000 --> 00:13:38.000
So, I can write i as v2 minus v
minus divided by R1.

00:13:38.000 --> 00:13:44.000
Let me keep track of those two
and then go ahead and compute

00:13:44.000 --> 00:13:47.000
vOUT.
So, my goal in life is compute

00:13:47.000 --> 00:13:52.000
vOUT as a function of the two
input voltages v1 and v2.

00:13:52.000 --> 00:13:58.000
And just for kicks I have gone
ahead and computed some of the

00:13:58.000 --> 00:14:03.000
intermediate node voltages and
currents.

00:14:03.000 --> 00:14:08.000
How do I write vOUT?
What is vOUT?

00:14:08.000 --> 00:14:12.000
vOUT is simply v minus from
KVL.

00:14:12.000 --> 00:14:21.000
vOUT is simply v minus minus
the drop across this resistor.

00:14:21.000 --> 00:14:30.000
So, the drop across that
resistor is simply iR2.

00:14:30.000 --> 00:14:33.000
From good-old KVL from the
first lecture,

00:14:33.000 --> 00:14:37.000
a voltage minus the drop across
the resistor is equal to vOUT.

00:14:37.000 --> 00:14:40.000
Therefore it's simply v minus
minus iR2.

00:14:40.000 --> 00:14:45.000
One thing to be very cautious
about, I will tell you right

00:14:45.000 --> 00:14:49.000
now, is that the output here
relates to the inversion of the

00:14:49.000 --> 00:14:54.000
voltage across this resistor R2.
Be very, very careful in that

00:14:54.000 --> 00:14:59.000
if I have a voltage across this
resistor here that impacts vOUT

00:14:59.000 --> 00:15:03.000
with a minus sign attached to
it.

00:15:03.000 --> 00:15:08.000
Notice that iR2 is the voltage
across R2 and vOUT relates to

00:15:08.000 --> 00:15:12.000
the negative of that.
Be very cautious.

00:15:12.000 --> 00:15:18.000
That's one of the commonest
silly mistakes I have seen

00:15:18.000 --> 00:15:22.000
people make in solving problems
like this.

00:15:22.000 --> 00:15:27.000
Let's go ahead.
I know v minus and I don't know

00:15:27.000 --> 00:15:29.000
i.
Let me substitute for i for

00:15:29.000 --> 00:15:37.000
now, and that is v2 minus v
minus divided by R1 times R2.

00:15:37.000 --> 00:15:43.000
Let me go ahead and collect all
the v minuses.

00:15:43.000 --> 00:15:51.000
v minus, I get a one here,
minus minus becomes a plus,

00:15:51.000 --> 00:15:56.000
and so I get R2 divided by R1
out there.

00:15:56.000 --> 00:16:03.000
And then I minus v2 R2 divided
by R1.

00:16:03.000 --> 00:16:08.000
That is vOUT.
Now let me go ahead and

00:16:08.000 --> 00:16:15.000
substitute for v minus.
And that is simply v1 R2

00:16:15.000 --> 00:16:20.000
divided by R1 plus R2.
That is v minus.

00:16:20.000 --> 00:16:27.000
And this character here is
simplified to be R1,

00:16:27.000 --> 00:16:34.000
R1 plus R2 minus v2 R2 divided
by R1.

00:16:34.000 --> 00:16:39.000
What do we get?
I cancel these two suckers out

00:16:39.000 --> 00:16:46.000
and what I end up with is v1 R2
divided by R1 minus v2 R2

00:16:46.000 --> 00:16:51.000
divided by R1,
which is simply R2/R1(v1-v2).

00:16:51.000 --> 00:16:58.000
What is interesting here is
that what I have ended up

00:16:58.000 --> 00:17:04.000
building is a very primitive
subtractor.

00:17:04.000 --> 00:17:08.000
So, my output relates to v1
minus v2 multiplied by the

00:17:08.000 --> 00:17:13.000
constant factor given by R2
divided by R1.

00:17:19.000 --> 00:17:22.000
Again, as I pointed out to you
at the beginning of this

00:17:22.000 --> 00:17:25.000
lecture, no knew foundations
today, no new theories,

00:17:25.000 --> 00:17:26.000
no new disciplines,
no new laws.

00:17:26.000 --> 00:17:30.000
We are just going to take what
you have learned --

00:17:30.000 --> 00:17:32.000
Three simple things,
infinite gain,

00:17:32.000 --> 00:17:36.000
infinite input resistance,
zero output resistance,

00:17:36.000 --> 00:17:39.000
plus this new thing v plus
equals v minus.

00:17:39.000 --> 00:17:44.000
And just being armed with those
four principles we are just

00:17:44.000 --> 00:17:48.000
going to charge ahead and
analyze a bunch of circuits.

00:17:48.000 --> 00:17:52.000
It is purely intellectual and
pure applications today.

00:17:52.000 --> 00:17:56.000
This is one way of doing it.
There is another way of solving

00:17:56.000 --> 00:18:00.000
it.
We can solve the circuit.

00:18:00.000 --> 00:18:04.000
Remember, whenever you see a
linear circuit and you see two

00:18:04.000 --> 00:18:09.000
sources or three sources,
just think superposition,

00:18:09.000 --> 00:18:12.000
right?
You see a linear circuit and

00:18:12.000 --> 00:18:15.000
two or three sources,
think superposition.

00:18:15.000 --> 00:18:19.000
We should be able to apply
superposition to this.

00:18:19.000 --> 00:18:23.000
The op amp is simply another
building block.

00:18:23.000 --> 00:18:27.000
It's a linear circuit.
So, let's see if we get the

00:18:27.000 --> 00:18:33.000
same answer.
Let's try to solve the circuit

00:18:33.000 --> 00:18:38.000
using superposition and see if
we get the same answer.

00:18:38.000 --> 00:18:43.000
To do superposition what I am
going to do is build two

00:18:43.000 --> 00:18:48.000
subcircuits.
One subcircuit in which v1 is

00:18:48.000 --> 00:18:52.000
zero, and that subcircuit looks
like this.

00:18:52.000 --> 00:18:58.000
If I set v1 to be zero then I
get R1 parallel R2 going to

00:18:58.000 --> 00:19:03.000
ground.
So, if v1 is set to zero then

00:19:03.000 --> 00:19:09.000
R1 goes to ground.
And I get R1 parallel R2 here.

00:19:09.000 --> 00:19:13.000
And of course I have v2 as
before.

00:19:13.000 --> 00:19:16.000
And this was R1,
this was R2,

00:19:16.000 --> 00:19:21.000
and let me call that vOUT1.
Oh, I'm sorry.

00:19:21.000 --> 00:19:28.000
Let me call it vOUT2
corresponding to that component

00:19:28.000 --> 00:19:35.000
of the output that relates to v2
acting alone.

00:19:35.000 --> 00:19:38.000
Remember superposition?
Build two subcircuits,

00:19:38.000 --> 00:19:43.000
one that depends on v2 and
another one that depends on v1.

00:19:43.000 --> 00:19:46.000
Let's do the second one,
too.

00:19:46.000 --> 00:19:51.000
Second one is v2 going to zero.
Here is my little op amp.

00:19:51.000 --> 00:19:56.000
And what I will do is simply
flip the op amp just to see if

00:19:56.000 --> 00:20:01.000
you can identify some
interesting patterns.

00:20:01.000 --> 00:20:07.000
Just flip the op amp around.
And this is v1 as before.

00:20:07.000 --> 00:20:15.000
And recall that v1 was going to
the plus node through a resistor

00:20:15.000 --> 00:20:19.000
R1.
And then I had a R2 to ground.

00:20:19.000 --> 00:20:23.000
And then let me short v2 to
ground.

00:20:23.000 --> 00:20:30.000
And when I short v2 to ground
what happens?

00:20:30.000 --> 00:20:35.000
When I short v2 to ground what
happens is that the tail of R1

00:20:35.000 --> 00:20:40.000
here goes to ground.
And so it is as if the output

00:20:40.000 --> 00:20:44.000
is connected to the node v minus
through a resistor,

00:20:44.000 --> 00:20:50.000
so it as if the output v R2 is
connected to the minus input

00:20:50.000 --> 00:20:54.000
through a resistor.
We will draw it like this.

00:20:54.000 --> 00:20:58.000
And the minus input goes
through a resistor R1,

00:20:58.000 --> 00:21:02.000
to ground.
If you thought that patterns

00:21:02.000 --> 00:21:07.000
were important in the earlier
part of the course doing voltage

00:21:07.000 --> 00:21:11.000
divider patterns and current
divider patterns and amplifier

00:21:11.000 --> 00:21:14.000
pattern, the source follower
pattern, op amps is all about

00:21:14.000 --> 00:21:17.000
patterns.
You should remember two or

00:21:17.000 --> 00:21:20.000
three simple patterns and be
able to write down the

00:21:20.000 --> 00:21:23.000
expression for those just by
observation.

00:21:23.000 --> 00:21:27.000
So, this is one common pattern
that you have seen before in the

00:21:27.000 --> 00:21:32.000
very first lecture.
And I just wrote it down in

00:21:32.000 --> 00:21:35.000
that manner.
Let me go ahead and solve this

00:21:35.000 --> 00:21:37.000
circuit.
It turns out that this is also

00:21:37.000 --> 00:21:40.000
a pattern.
I will analyze it today but in

00:21:40.000 --> 00:21:45.000
the future v2 going to this node
through R1 and then R2 to the

00:21:45.000 --> 00:21:47.000
output.
You have probably also seen

00:21:47.000 --> 00:21:52.000
this in your recitation.
This one is called an inverting

00:21:52.000 --> 00:21:55.000
connection and this one here is
called a non-inverting

00:21:55.000 --> 00:22:00.000
connection.
Let's go ahead and do vOUT2.

00:22:00.000 --> 00:22:05.000
vOUT2 is simply given by,
notice that since this is

00:22:05.000 --> 00:22:10.000
ground, no current flowing here,
this voltage is zero.

00:22:10.000 --> 00:22:15.000
If this voltage is zero,
this voltage is zero by the v

00:22:15.000 --> 00:22:19.000
plus equals v minus method.
If this is zero,

00:22:19.000 --> 00:22:25.000
the current that goes through
here is v2 divided by R1.

00:22:25.000 --> 00:22:31.000
And that same current must flow
through the resistance R2 as

00:22:31.000 --> 00:22:35.000
well.
If the current v2 divided by R1

00:22:35.000 --> 00:22:40.000
flows through this resistor,
the drop across this resistor

00:22:40.000 --> 00:22:44.000
is simply given by,
let me hide this for a second,

00:22:44.000 --> 00:22:48.000
is simply given by v2.
So, v2 divided by R1 is the

00:22:48.000 --> 00:22:50.000
current here.
This is zero.

00:22:50.000 --> 00:22:54.000
So, the drop across this
resistor is v2 R1 multiplied by

00:22:54.000 --> 00:22:57.000
R2.
That's a drop across this

00:22:57.000 --> 00:23:01.000
resistor.
This voltage is simply zero

00:23:01.000 --> 00:23:03.000
minus a drop across the
resistor.

00:23:03.000 --> 00:23:08.000
So, it's zero minus the drop
across the resistor and that

00:23:08.000 --> 00:23:11.000
gives me v2.
Again, remember this minus sign

00:23:11.000 --> 00:23:16.000
comes in when I want to convert
this to get the output voltage

00:23:16.000 --> 00:23:20.000
from that.
This is a very common pattern.

00:23:20.000 --> 00:23:24.000
It's called an inverting
connection where the output is

00:23:24.000 --> 00:23:29.000
some factor of the input voltage
and the factor is given by R2

00:23:29.000 --> 00:23:35.000
divided by R1.
Let's go ahead and analyze this

00:23:35.000 --> 00:23:39.000
guy now.
What is vOUT1 equal to?

00:23:39.000 --> 00:23:47.000
I should have called this vOUT1
because it relates to v1.

00:23:47.000 --> 00:23:50.000
vOUT1.
There is a v plus here.

00:23:50.000 --> 00:23:58.000
From our first lecture I know
that vOUT1 relates to v plus in

00:23:58.000 --> 00:24:04.000
the following way.
I know that it is v plus times

00:24:04.000 --> 00:24:08.000
the sum of the resistances
divided by R1.

00:24:08.000 --> 00:24:12.000
Based on the first lecture this
is true.

00:24:12.000 --> 00:24:17.000
vOUT1 is simply an amplified
version of v plus where the

00:24:17.000 --> 00:24:23.000
amplification factor is given by
R1 plus R2 divided by R1.

00:24:23.000 --> 00:24:30.000
And I know v plus is simply a
voltage divider action here.

00:24:30.000 --> 00:24:35.000
And I can take a simple voltage
divider action here because the

00:24:35.000 --> 00:24:40.000
current going in is zero.
Looking in here this is as if

00:24:40.000 --> 00:24:45.000
it's an infinite resistance,
so it is as if the element

00:24:45.000 --> 00:24:50.000
simply does not exist.
The voltage here is simply v1

00:24:50.000 --> 00:24:56.000
divided by R1 plus R2 multiplied
by R2, our voltage divider

00:24:56.000 --> 00:24:59.000
pattern.
So, I get v1 times R2 divided

00:24:59.000 --> 00:25:05.000
by R1 plus R2 times R1 plus R2
divided by R1.

00:25:05.000 --> 00:25:14.000
These two cancel out which
gives me vOUT1 is simply v1 R2

00:25:14.000 --> 00:25:21.000
divided by R1.
To get vOUT I add up the two.

00:25:21.000 --> 00:25:28.000
vOUT is vOUT1 plus vOUT2,
which is my goal.

00:25:28.000 --> 00:25:37.000
And that is simply v1 R2 by R1
minus v2 R2 by R1.

00:25:37.000 --> 00:25:40.000
Thankfully what we have here is
the same as here.

00:25:40.000 --> 00:25:45.000
Again, there is really nothing
new that I am going to cover

00:25:45.000 --> 00:25:47.000
today.
Simply apply,

00:25:47.000 --> 00:25:50.000
apply, apply,
four simple principles.

00:25:50.000 --> 00:25:55.000
Here I have used superposition
and I am showing you a circuit.

00:25:55.000 --> 00:26:00.000
So, it turns out with op amps
you should really remember that

00:26:00.000 --> 00:26:04.000
pattern.
You will see it again and again

00:26:04.000 --> 00:26:07.000
and again.
And each time you see it,

00:26:07.000 --> 00:26:11.000
it will save you six minutes of
having to solve the circuit

00:26:11.000 --> 00:26:16.000
without knowing the pattern.
So, remember this pattern.

00:26:16.000 --> 00:26:20.000
You can pick up another three
or four minutes by remembering

00:26:20.000 --> 00:26:24.000
this pattern here.
This pattern is simply v2 R2

00:26:24.000 --> 00:26:28.000
divided by R1.
Imprint those two patterns into

00:26:28.000 --> 00:26:32.000
your brains.
OK, so those are a couple of

00:26:32.000 --> 00:26:35.000
simple circuits using the op
amp.

00:26:35.000 --> 00:26:38.000
We built a subtractor.
The next step,

00:26:38.000 --> 00:26:42.000
let's go ahead and try to build
an integrator.

00:26:42.000 --> 00:26:47.000
Using this little building
block we can go ahead and try to

00:26:47.000 --> 00:26:51.000
build a bunch of circuits.
We can build filters,

00:26:51.000 --> 00:26:55.000
A to D converters and so on.
Let's build an integrator.

00:26:55.000 --> 00:27:00.000
Abstractly I need to build this
box.

00:27:00.000 --> 00:27:04.000
Which when fed a vI,
I want that box to integrate

00:27:04.000 --> 00:27:08.000
and give me a vO which is vI
integrated over time.

00:27:08.000 --> 00:27:13.000
That is what I want to build.
How do I go about building it?

00:27:13.000 --> 00:27:19.000
What I would like to do next is
give you some flavor for design.

00:27:19.000 --> 00:27:23.000
How do you go about designing
things with an op amp?

00:27:23.000 --> 00:27:28.000
Knowing that you do not know
the pattern for this yet,

00:27:28.000 --> 00:27:33.000
how do you go about designing
things?

00:27:33.000 --> 00:27:36.000
Well, let's start with the
following intuition.

00:27:36.000 --> 00:27:41.000
The intuition that I begin with
is that if I have a current i,

00:27:41.000 --> 00:27:46.000
and remember that capacitors
and inductors related to,

00:27:46.000 --> 00:27:51.000
you saw differentiation and
integration happening when we

00:27:51.000 --> 00:27:53.000
dealt with capacitors and
inductors.

00:27:53.000 --> 00:28:00.000
So, I think we have to invoke a
capacitor here or an inductor.

00:28:00.000 --> 00:28:04.000
In this example I invoke a
capacitor.

00:28:04.000 --> 00:28:10.000
Notice that if I stick a
capacitor in here this current

00:28:10.000 --> 00:28:16.000
is i, capacitance C,
then my voltage vO is given by

00:28:16.000 --> 00:28:20.000
what?
Voltage is simply the integral

00:28:20.000 --> 00:28:28.000
of the current flowing through
it or vice versa i is C dv/dt.

00:28:28.000 --> 00:28:36.000
If i is C dv/dt then v is
simply one by C integral.

00:28:36.000 --> 00:28:44.000
If I can pass the current
through a capacitor then the

00:28:44.000 --> 00:28:52.000
voltage across the capacitor
must be a current.

00:28:52.000 --> 00:29:00.000
Notice then that vO is related
to i dt.

00:29:00.000 --> 00:29:02.000
I have some multiplying
constants and so on,

00:29:02.000 --> 00:29:06.000
but fundamentally what I have
found is if I can stick a

00:29:06.000 --> 00:29:11.000
current through a capacitor then
the voltage across the capacitor

00:29:11.000 --> 00:29:13.000
relates to the integral of the
current.

00:29:13.000 --> 00:29:17.000
OK, that's interesting.
So, I have an integral in

00:29:17.000 --> 00:29:18.000
there.
But I have a current.

00:29:18.000 --> 00:29:21.000
Notice my goal was to integrate
a voltage.

00:29:21.000 --> 00:29:25.000
What I figured out how to do
was if I can turn that voltage

00:29:25.000 --> 00:29:31.000
into a current --
If I can turn that voltage into

00:29:31.000 --> 00:29:38.000
a proportional current and then
pump that current through a

00:29:38.000 --> 00:29:44.000
capacitor I will get the
integration that I want.

00:29:44.000 --> 00:29:50.000
How do I convert my vI to i?
How do I do that?

00:29:50.000 --> 00:29:55.000
Well, let's take a stab at it.
Here is my vI.

00:29:55.000 --> 00:30:02.000
Let's take the resistor R.
And remember I need to stick

00:30:02.000 --> 00:30:06.000
the capacitor here.
I have some current I here.

00:30:06.000 --> 00:30:09.000
I don't know what the current
is yet.

00:30:09.000 --> 00:30:13.000
And I stick a voltage here.
And what I am trying to do is

00:30:13.000 --> 00:30:18.000
trying to see if I stick a
voltage and a resistance in

00:30:18.000 --> 00:30:23.000
series then there is some
relationship between the current

00:30:23.000 --> 00:30:27.000
and this voltage.
Recall that I am trying to make

00:30:27.000 --> 00:30:33.000
this current be directly
proportional to the voltage vI.

00:30:33.000 --> 00:30:38.000
But it turns out that i here is
not equal to vI divided by R.

00:30:38.000 --> 00:30:42.000
If i was vI divided by R
somehow, I am done.

00:30:42.000 --> 00:30:46.000
If i was vI divided by R,
by some magic,

00:30:46.000 --> 00:30:50.000
then I have converted my
voltage to a current,

00:30:50.000 --> 00:30:56.000
I feed that current through my
capacitor and vO is my integral

00:30:56.000 --> 00:31:01.000
that I am looking for.
But unfortunately i is not

00:31:01.000 --> 00:31:04.000
equal to vI divided by R.
You know that.

00:31:04.000 --> 00:31:09.000
i relates to vI minus the
capacitor voltage divided by R.

00:31:09.000 --> 00:31:14.000
So, i is not simply vI divided
by R for all time but i is

00:31:14.000 --> 00:31:19.000
really vI minus the capacitor
voltage divided by R.

00:31:19.000 --> 00:31:22.000
And, in fact,
when we did RC circuits you

00:31:22.000 --> 00:31:28.000
wrote this equation to represent
the dynamics of the circuit,

00:31:28.000 --> 00:31:34.000
RC dvO by dt plus vO equals vI.
We wrote down this circuit for

00:31:34.000 --> 00:31:39.000
a first order RC,
wrote this equation for a first

00:31:39.000 --> 00:31:43.000
order RC circuit.
Now, it does turn out,

00:31:43.000 --> 00:31:48.000
to wrap up on this wild goose
chase that we went on,

00:31:48.000 --> 00:31:53.000
it does turn out that if this
term here is much bigger than

00:31:53.000 --> 00:31:57.000
that term.
If this term is much bigger

00:31:57.000 --> 00:32:03.000
than that term then I can ignore
that term and write down RC dvO

00:32:03.000 --> 00:32:10.000
by dt more or less equal to vI.
If that were true,

00:32:10.000 --> 00:32:15.000
this would be true,
and then vO would be more or

00:32:15.000 --> 00:32:20.000
less equal to one by RC integral
of vI dt.

00:32:20.000 --> 00:32:27.000
Again, if this were true.
If this were true for all time

00:32:27.000 --> 00:32:32.000
then vO would be integral of vI
dt.

00:32:32.000 --> 00:32:35.000
Again, remember this is all a
wild goose chase.

00:32:35.000 --> 00:32:39.000
Just write down WGC there just
so you don't get confused.

00:32:39.000 --> 00:32:43.000
I am on this wild goose hunt
here trying to find a way to get

00:32:43.000 --> 00:32:48.000
a current from a voltage which I
can then feed into a capacitor.

00:32:48.000 --> 00:32:52.000
This was one thing I knew,
but this was not what I want.

00:32:52.000 --> 00:32:56.000
But it does turn out to be what
I want when vO is very,

00:32:56.000 --> 00:32:58.000
very small.
So, I see some glimmer of hope

00:32:58.000 --> 00:33:03.000
but not quite.
It turns that in R and C,

00:33:03.000 --> 00:33:08.000
if I make R and C very,
very big, if I have a huge time

00:33:08.000 --> 00:33:12.000
constant, with a huge time
constant the voltage vO looks

00:33:12.000 --> 00:33:17.000
like an integral of vI,
but only when I have a very

00:33:17.000 --> 00:33:21.000
huge time constant.
So, I give up on that track.

00:33:21.000 --> 00:33:25.000
Instead I try something else.

00:33:34.000 --> 00:33:38.000
Another try.
I would like you to notice if

00:33:38.000 --> 00:33:42.000
you take your op amp,
here is your op amp,

00:33:42.000 --> 00:33:48.000
if you take this op amp and you
stick the positive terminal to

00:33:48.000 --> 00:33:53.000
ground, under reasonable
feedback, under reasonable

00:33:53.000 --> 00:34:00.000
negative feedback what do you
notice about the current?

00:34:00.000 --> 00:34:04.000
If I had a current i flowing
here what did you notice?

00:34:04.000 --> 00:34:09.000
Look at this picture.
I had a current i flowing in

00:34:09.000 --> 00:34:14.000
here, v2 divided by R1.
And because this resistance was

00:34:14.000 --> 00:34:19.000
infinite all the current went
through the upper terminal.

00:34:19.000 --> 00:34:24.000
So, this is zero volts.
And by the v plus equals v

00:34:24.000 --> 00:34:30.000
minus method this is also more
or less equal to zero.

00:34:30.000 --> 00:34:35.000
And I have a current i flowing
in here, nothing goes here,

00:34:35.000 --> 00:34:37.000
so then the i must flow up
there.

00:34:37.000 --> 00:34:42.000
So, all I am doing here is
causing a reflection of the

00:34:42.000 --> 00:34:48.000
current from this grounded node.
My current is being reflected

00:34:48.000 --> 00:34:53.000
into, or deflected if you feel
like it, the upper edge here

00:34:53.000 --> 00:34:56.000
after coming in through this
edge.

00:34:56.000 --> 00:35:00.000
That is interesting.
We are just one step away from

00:35:00.000 --> 00:35:02.000
the key insight.

00:35:10.000 --> 00:35:14.000
I have an i coming in here,
an i going out there.

00:35:14.000 --> 00:35:16.000
Notice that,
as I said before,

00:35:16.000 --> 00:35:21.000
this is zero volts.
How do I get my voltage vI to

00:35:21.000 --> 00:35:25.000
look like a current,
to become proportional to a

00:35:25.000 --> 00:35:27.000
current?
It is simple now.

00:35:27.000 --> 00:35:34.000
All I do is put a voltage vI
and put a resistor R out there.

00:35:34.000 --> 00:35:36.000
If I do that,
and since this is zero,

00:35:36.000 --> 00:35:39.000
the current i is given by vI
divided by R.

00:35:39.000 --> 00:35:42.000
I have gotten to where I want
to be.

00:35:42.000 --> 00:35:46.000
So, by using an op amp and
using the fact that the minus

00:35:46.000 --> 00:35:51.000
node here, v minus is at the
same potential as v plus when

00:35:51.000 --> 00:35:55.000
there is negative feedback then
I can stick a resistor here.

00:35:55.000 --> 00:35:59.000
And because this is zero the
current here is simply vI

00:35:59.000 --> 00:36:04.000
divided by R.
I have gotten to the first

00:36:04.000 --> 00:36:07.000
place.
Now all I need to do is simply

00:36:07.000 --> 00:36:13.000
pump this current through a
capacitor and I get the integral

00:36:13.000 --> 00:36:18.000
of the, the voltage becomes an
integral of the current.

00:36:18.000 --> 00:36:22.000
That is easy.
I stick my capacitor here and I

00:36:22.000 --> 00:36:27.000
get my answer out there as vO.
Notice that when I do this,

00:36:27.000 --> 00:36:32.000
let's say this is plus/minus
VC.

00:36:32.000 --> 00:36:34.000
This is zero.
So, vO is minus VC.

00:36:34.000 --> 00:36:38.000
Again, I will keep emphasizing
it maybe 17 times throughout

00:36:38.000 --> 00:36:43.000
this course that if this is zero
then the output here is related

00:36:43.000 --> 00:36:47.000
to the negative of this voltage,
common, common,

00:36:47.000 --> 00:36:50.000
common mistake.
I will be very upset after

00:36:50.000 --> 00:36:54.000
doing all this if I see this
mistake happen in any of the

00:36:54.000 --> 00:36:57.000
future homeworks or finals or
whatever.

00:36:57.000 --> 00:37:05.000
This should not happen.
So, vO is a minus sign here VC.

00:37:05.000 --> 00:37:15.000
And I know that if I have a
current i through a capacitor

00:37:15.000 --> 00:37:22.000
what is VC?
If I have current i through a

00:37:22.000 --> 00:37:29.000
capacitor than this is simply t
i dt.

00:37:29.000 --> 00:37:36.000
And i by design is --
So, I have my integrator.

00:37:36.000 --> 00:37:40.000
It is a two-step process.
I stuck a resistor here,

00:37:40.000 --> 00:37:44.000
so the current became equal to
vI divided by R.

00:37:44.000 --> 00:37:49.000
Then I took that current and
pumped it through a capacitor

00:37:49.000 --> 00:37:54.000
through this terminal here,
and the voltage across the

00:37:54.000 --> 00:38:00.000
capacitor for a current i is
given by this expression.

00:38:00.000 --> 00:38:04.000
This is Capacitors 101.
OK Capacitors 101 says that the

00:38:04.000 --> 00:38:09.000
voltage across the capacitor is
simply one by C integral i dt.

00:38:09.000 --> 00:38:14.000
Another way of looking at it is
the voltage across the capacitor

00:38:14.000 --> 00:38:17.000
is C, I'm sorry,
the current through a capacitor

00:38:17.000 --> 00:38:20.000
is C dv/dt.
This is simply the integral

00:38:20.000 --> 00:38:24.000
form of that equation.
And I am done with my

00:38:24.000 --> 00:38:27.000
integrator.
So, this is another very common

00:38:27.000 --> 00:38:31.000
building block.
Remember this.

00:38:31.000 --> 00:38:36.000
Most of the circuits we will be
seeing with op amps simply

00:38:36.000 --> 00:38:39.000
involve something here and some
there.

00:38:39.000 --> 00:38:43.000
And the output in this
inverting connection is the

00:38:43.000 --> 00:38:47.000
output times,
if it is a resistance it is

00:38:47.000 --> 00:38:51.000
simply R2 divided by R1,
if it's a capacitor I get the

00:38:51.000 --> 00:38:56.000
integral form looking like this.
Yes.

00:39:01.000 --> 00:39:05.000
Can someone tell me where the
negative sign went?

00:39:05.000 --> 00:39:10.000
The blackboard ate it up.
Good catch.

00:39:27.000 --> 00:39:30.000
After all that lecture about
watching the negative sign.

00:39:30.000 --> 00:39:34.000
After this little bit of faux
pas here, now I will be doubly

00:39:34.000 --> 00:39:36.000
mad if you guys make that
mistake.

00:39:36.000 --> 00:39:38.000
All right.
Now that we have built the

00:39:38.000 --> 00:39:42.000
integrator, I could give this
out as a homework problem.

00:39:42.000 --> 00:39:45.000
And you should be able to
design a differentiator based on

00:39:45.000 --> 00:39:49.000
what you've learned here.
You now have the tools to go

00:39:49.000 --> 00:39:52.000
and do some design like this,
but we don't have any more

00:39:52.000 --> 00:39:56.000
homeworks left so I guess I will
go ahead and solve this for you

00:39:56.000 --> 00:40:00.000
right here and do the design for
you.

00:40:00.000 --> 00:40:06.000
The building block that we need
looks like this,

00:40:06.000 --> 00:40:11.000
d/dt here.
Let me take a vI and stick a vI

00:40:11.000 --> 00:40:16.000
in there.
That's what I want to build.

00:40:16.000 --> 00:40:23.000
And what I built here is that
different integrator box.

00:40:23.000 --> 00:40:33.000
And what I would like to do now
is build a differentiator box.

00:40:33.000 --> 00:40:37.000
How do I go about doing it?
I will go really slow here so

00:40:37.000 --> 00:40:42.000
you will have some time to think
about it for yourselves and see

00:40:42.000 --> 00:40:46.000
if you folks are crack op amp
circuit designers already,

00:40:46.000 --> 00:40:49.000
if you have the right instincts
here.

00:40:49.000 --> 00:40:53.000
Again, when you see
differentiation integration

00:40:53.000 --> 00:40:57.000
think capacitors or inductors,
it doesn't matter.

00:40:57.000 --> 00:41:00.000
In fact, as a homework
exercise, you may want to go

00:41:00.000 --> 00:41:07.000
back and see how you can get a
similar effect using inductors.

00:41:07.000 --> 00:41:11.000
Can you play with inductors and
get a similar effect?

00:41:11.000 --> 00:41:15.000
So, inductors are devices that
are a dual of the capacitor.

00:41:15.000 --> 00:41:20.000
Whatever we will do with
capacitors, there must be a

00:41:20.000 --> 00:41:22.000
corresponding way with
inductors.

00:41:22.000 --> 00:41:25.000
You can try it out in your
spare time.

00:41:25.000 --> 00:41:33.000
Let's go back to this one here.
I will stick with the capacitor

00:41:33.000 --> 00:41:40.000
way of looking at things.
I need a differentiation now.

00:41:40.000 --> 00:41:45.000
Remember this.
If I have a vI and I stick this

00:41:45.000 --> 00:41:51.000
across a capacitor,
I have a current C and some

00:41:51.000 --> 00:42:00.000
voltage vc across the capacitor,
what does i relate to?

00:42:00.000 --> 00:42:09.000
i is simply C dv/dt and vc in
this case is simply C dvI/dt.

00:42:09.000 --> 00:42:18.000
If I can stick a voltage across
a capacitor, if my input voltage

00:42:18.000 --> 00:42:28.000
is stuck across a capacitor then
the resulting current relates to

00:42:28.000 --> 00:42:33.000
dvI/dt.
Here we have the opposite

00:42:33.000 --> 00:42:36.000
problem.
By doing this simple trick,

00:42:36.000 --> 00:42:41.000
I can obtain a current that has
the right form.

00:42:41.000 --> 00:42:46.000
Now what I need to do is
somehow convert that current

00:42:46.000 --> 00:42:51.000
into a voltage because the
abstraction that I need is a

00:42:51.000 --> 00:42:54.000
voltage to voltage.
The next step,

00:42:54.000 --> 00:42:59.000
what I need to do is somehow
convert a current to a voltage.

00:42:59.000 --> 00:43:07.000
How do I go about doing that?
Again, remember for the op amp,

00:43:07.000 --> 00:43:14.000
if I have a current i flowing
here then by the reflection

00:43:14.000 --> 00:43:22.000
property i gets pushed up into
this edge, provided that the

00:43:22.000 --> 00:43:30.000
whole circuit is working with
descent negative feedback.

00:43:30.000 --> 00:43:35.000
Given this trick what I can do
is say look, suppose I did this.

00:43:35.000 --> 00:43:40.000
Remember, my goal here is how
do I convert a current to a

00:43:40.000 --> 00:43:43.000
voltage?
I have a current i coming in

00:43:43.000 --> 00:43:48.000
here, and I can turn that into a
voltage because I know the

00:43:48.000 --> 00:43:54.000
current must come out here,
I know this current must come

00:43:54.000 --> 00:43:57.000
out there.
All I have to do is stick a

00:43:57.000 --> 00:44:03.000
resistor in there.
If I stick a resistor in there

00:44:03.000 --> 00:44:08.000
what is vO equal to?
vO is simply iR,

00:44:08.000 --> 00:44:11.000
right?
That's right.

00:44:11.000 --> 00:44:16.000
vO, I get i here,
so i pumps through here.

00:44:16.000 --> 00:44:24.000
Remember, what comes in here
must get reflected up because

00:44:24.000 --> 00:44:30.000
the current going in here is
zero.

00:44:30.000 --> 00:44:35.000
All the i must come out here.
So, that i must pump through

00:44:35.000 --> 00:44:40.000
this resistor.
The drop across this resistor

00:44:40.000 --> 00:44:43.000
is iR.
That's the voltage drop across

00:44:43.000 --> 00:44:47.000
that resistor.
And since this at a virtual

00:44:47.000 --> 00:44:53.000
ground the output here is simply
zero minus this drop which is

00:44:53.000 --> 00:44:57.000
minus iR.
So, I have gotten to where I

00:44:57.000 --> 00:45:02.000
want to be.
I have my current i being

00:45:02.000 --> 00:45:06.000
converted to a voltage.
I have taken my current,

00:45:06.000 --> 00:45:11.000
and I have been able to convert
that into a voltage by sticking

00:45:11.000 --> 00:45:14.000
a resistor in here.
As a final step,

00:45:14.000 --> 00:45:18.000
I simply need to produce the
current.

00:45:18.000 --> 00:45:23.000
And that is pretty easy to do.
Abstractly what I need to do,

00:45:23.000 --> 00:45:28.000
again, this is design here so
we will talk about abstract

00:45:28.000 --> 00:45:32.000
stuff.
If I had a voltage vI,

00:45:32.000 --> 00:45:39.000
I need to produce a current
which relates to C dvI/dt.

00:45:39.000 --> 00:45:44.000
And I know I can do that by
simply doing this.

00:45:44.000 --> 00:45:50.000
By doing this I know my i is C
dvI, correct?

00:45:50.000 --> 00:45:56.000
If I can get this effect,
I put this in quotes because

00:45:56.000 --> 00:46:03.000
that's my pattern.
I am looking for a pattern,

00:46:03.000 --> 00:46:10.000
where a voltage vI is directly
applied across a capacitor.

00:46:10.000 --> 00:46:17.000
And when that happens the
current relates to C dv/dt.

00:46:17.000 --> 00:46:22.000
Let's go back to our op amp
pattern here,

00:46:22.000 --> 00:46:29.000
op amp circuit.
So far I have achieved --

00:46:29.000 --> 00:46:33.000
I just repeated this out there.
And so somehow I need to take

00:46:33.000 --> 00:46:38.000
this pattern here and learn from
that pattern and apply the

00:46:38.000 --> 00:46:40.000
pattern here.
So, what I can do is,

00:46:40.000 --> 00:46:43.000
this is a ground node,
correct?

00:46:43.000 --> 00:46:47.000
Now, the poor little capacitor,
what does it care,

00:46:47.000 --> 00:46:51.000
whether it's a ground node or a
virtual ground node?

00:46:51.000 --> 00:46:55.000
As long as it's a zero volt
node down here what does it

00:46:55.000 --> 00:46:59.000
care?
What I am going to do is stick

00:46:59.000 --> 00:47:04.000
this point, not here but into a
virtual ground node.

00:47:04.000 --> 00:47:10.000
I am going to grab that point,
take it here and stick it here.

00:47:10.000 --> 00:47:14.000
The poor little capacitor
doesn't know the difference.

00:47:14.000 --> 00:47:18.000
I have really suckered the
little beast.

00:47:18.000 --> 00:47:20.000
This is vI.
Remember this.

00:47:20.000 --> 00:47:25.000
My i through the capacitor is
proportional to C dv/dt.

00:47:25.000 --> 00:47:31.000
Instead what I have done is
taken this guy and stuck it here

00:47:31.000 --> 00:47:36.000
to get something like this.
Just remember these four or

00:47:36.000 --> 00:47:39.000
five little tricks.
And you apply them in op amp

00:47:39.000 --> 00:47:42.000
circuits again and again and
again and again.

00:47:42.000 --> 00:47:45.000
So, this is vI,
this is my virtual ground.

00:47:45.000 --> 00:47:48.000
As far as this poor little
capacitor is concerned,

00:47:48.000 --> 00:47:52.000
it is chugging along merrily
thinking that it is connected to

00:47:52.000 --> 00:47:55.000
ground.
Little does it know it is only

00:47:55.000 --> 00:47:58.000
a virtual ground,
all right?

00:47:58.000 --> 00:48:03.000
But the current i here is
simply C dvI/dt.

00:48:03.000 --> 00:48:08.000
And that current,
the C dvI/dt,

00:48:08.000 --> 00:48:15.000
that current flows through here
and gives me vO as iR.

00:48:15.000 --> 00:48:23.000
So, vO is simply minus R.
Let me substitute for i there,

00:48:23.000 --> 00:48:29.000
C dvI/dt.
OK, so notice then that my vO

00:48:29.000 --> 00:48:37.000
is now proportional to dvI/dt.
So, vO is some RC time constant

00:48:37.000 --> 00:48:41.000
times dvI/dt.
Therefore, I have my

00:48:41.000 --> 00:48:45.000
differentiator circuit.
Remember this as a closing

00:48:45.000 --> 00:48:49.000
thought.
Remember this v plus more or

00:48:49.000 --> 00:48:54.000
less equal to v minus trick.
And to the extent possible

00:48:54.000 --> 00:48:59.000
simply use that trick to analyze
op amp circuits under feedback

00:48:59.000 --> 00:49:04.000
and not in saturation.
Just remember these two.

00:49:04.000 --> 00:49:09.000
Very quickly for the demo,
I have a square wave input here

00:49:09.000 --> 00:49:12.000
to the op amp,
that's my vI to the integrator.

00:49:12.000 --> 00:49:16.000
And this is the output vO.
The integral of a square wave

00:49:16.000 --> 00:49:19.000
is a triangular wave,
as you can see.

00:49:19.000 --> 00:49:22.000
And we will do the same thing
for a differentiator.

00:49:22.000 --> 00:49:27.000
And for the differentiator,
I input the square wave to this

00:49:27.000 --> 00:49:31.000
differentiator circuit.
And I get this,

00:49:31.000 --> 00:49:35.000
wherever there is a sharp rise,
I get this huge negative spike

00:49:35.000 --> 00:49:39.000
and a positive spike because of
the minus sign.

00:49:39.000 --> 00:49:41.000
So, this is the differentiator
circuit.

00:49:41.000 --> 00:49:44.000
Then I feed this into the op
amp.

00:49:44.000 --> 00:49:47.000
OK.
Thank you.